<!-- Main Page Template -->

{{ define "main" }}

<html>
  <head>
    <title>Supermarks</title>
  </head>

  <body>
    <ul>
      {{ range .RootNodes }}
        {{ template "bookmark_node" . }}
      {{ end }}
    </ul>

    Last updated at {{.Updated}}
  </body>
</html>

{{ end }}

<!-- Bookmark Node Template -->

{{ define "bookmark_node" }}
{{ if and (eq 0 (len .Children)) (gt (len .URL) 0) }}
  <li><a href="{{ .URL }}">{{ .Title }}</a></li>
{{ else }}
  <li>{{ .Title }}</li>
  <ul>
    {{ range .Children }}
      {{ template "bookmark_node" . }}
    {{ end }}
  </ul>
{{ end }}
{{ end }}